jQuery(function(d){function c(){d(".form-valid-sub input.defaultlabels").each(function(f){if(a(d(this).val())==d(this).attr("title")){d(this).val("")}});if(d(this).validationEngine("validate")){wysijaAJAX.task="save";wysijaAJAX.controller="subscribers";var e=d(this).serializeArray();d.each(e,function(f,g){wysijaAJAX["data["+f+"][name]"]=g.name;wysijaAJAX["data["+f+"][value]"]=g.value});wysijaAJAX.formid=d(this).attr("id");if(wysijaAJAX.noajax!=undefined){return true}d.WYSIJA_SEND()}else{d(".form-valid-sub input.defaultlabels").each(function(f){if(d(this).val()==""){d(this).val(d(this).attr("title"))}})}return false}d.WYSIJA_iframeloadhandler=function(e){var f=d(e).contents().find(".wysija-frame");if(f.hasClass("iframe-hidden")){d(e).hide();var g=f.html();d(e).before('<div id="'+d(e).attr("id")+'-iframe">'+g+"</div>")}b("#"+d(e).attr("id")+"-iframe .form-valid-sub")};d(function(){b(".form-valid-sub")});function b(e){d(e).validationEngine("attach",{promptPosition:"centerRight",scroll:false,validationEventTrigger:"submit"});d(e).submit(c);d(e+"input.wysija-email").blur(function(){d(this).val(a(d(this).val()))});d(e+" input.defaultlabels").each(function(f){var g=d(this).attr("title");d(this).val(g);d(this).blur(function(){if(a(d(this).val())==""){d(this).val(g)}else{d(this).val(a(d(this).val()))}});d(this).focus(function(){if(a(d(this).val())==g){d(this).val("")}})})}function a(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")}d.WYSIJA_SEND=function(){d("#msg-"+wysijaAJAX.formid).html('<div class="allmsgs"><blink>'+wysijaAJAX.loadingTrans+"</blink></div>");d("#"+wysijaAJAX.formid).fadeOut();d.ajax({type:"POST",url:wysijaAJAX.ajaxurl,data:wysijaAJAX,success:function(e){d("#msg-"+wysijaAJAX.formid).html('<div class="allmsgs"></div>');if(!e.result){d("#"+wysijaAJAX.formid).fadeIn()}d.each(e.msgs,function(g,f){if(!d("#msg-"+wysijaAJAX.formid+" .allmsgs ."+g+" ul").length){d("#msg-"+wysijaAJAX.formid+" .allmsgs").append('<div class="'+g+'"><ul></ul></div>')}d.each(f,function(h,i){d("#msg-"+wysijaAJAX.formid+" .allmsgs ."+g+" ul").append("<li>"+i+"</li>")})})},error:function(e,g,f){d("#msg-"+wysijaAJAX.formid).html('<div class="allmsgs"></div>');d("#msg-"+wysijaAJAX.formid+" .allmsgs").html('<div class="error"><ul><li>Oops! There is a problem with this form:</li><li>textStatus:'+g+"</li><li>errorThrown:"+f+"</li><li>responseText:"+e.responseText+"</li></ul></div>")},dataType:"jsonp"})};d(document).on("click",".showerrors",function(){d(".xdetailed-errors").toggle();return false});d(document).on("click",".shownotices",function(){d(".xdetailed-updated").toggle();return false})});
jQuery(function(e){function d(){var f=e("#category_ids").val();if(f.length===0){return[]}else{return f.split(",")}}function c(){var f=[];e(".categories:visible").each(function(g,h){if(e(this).val()!==""){f.push(e(this).val())}});f=e.unique(f);e("#category_ids").val(f.join(","));window.parent.WysijaPopup.setDimensions()}function b(f){e("#category-"+f).remove()}e(document).on("change",".categories:visible",function(){c()});e("#add-category").click(function(){if((e("#category_selection li").length+1)>=e(".categories:hidden option").length){return}var f=e("#category_list").html();e("#category_selection").append('<li id="category-'+(parseInt(e("#category_selection li").length)+1)+'" class="clearfix"><span>'+f+'</span><a class="icon-minus remove-category" rel="'+(parseInt(e("#category_selection li").length)+1)+'" href="javascript:;"><span></span></a></li>');c();return false});e(document).on("click",".remove-category",function(){b(e(this).attr("rel"));c();return false});e("#autopost-submit").click(function(){wysijaAJAX.task="generate_auto_post";wysijaAJAX.wysijaData=e("#autopost-form").serializeArray();jQuery.ajax({type:"POST",url:wysijaAJAX.ajaxurl,data:wysijaAJAX,success:function(f){if(f.result!==undefined&&f.result!==""){window.parent.WysijaPopup.success(f.result)}else{window.parent.WysijaPopup.cancel()}}});return false});function a(){if(e("select#cpt").val()==="post"){e(".category-selection").show()}else{e(".category-selection").hide();e("#category_selection").html("");e(".categories").val("")}c()}e("select#cpt").change(function(){a()});e("input.color").modcoder_excolor({hue_bar:1,border_color:"#969696",anim_speed:"fast",round_corners:false,shadow_size:2,shadow_color:"#f0f0f0",background_color:"#ececec",backlight:false,label_color:"#333333",effect:"fade",show_input:false,z_index:20000,callback_on_open:function(){e("html, body").animate({scrollTop:e("#modcoder_colorpicker_wrapper:visible").offset().top},200)}});e(function(){c();a()})});